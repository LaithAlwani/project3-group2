(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(e,a,t){},34:function(e,a,t){e.exports=t(73)},39:function(e,a,t){},60:function(e,a,t){},66:function(e,a,t){},67:function(e,a,t){},68:function(e,a,t){},69:function(e,a,t){},71:function(e,a,t){},72:function(e,a,t){e.exports=t.p+"static/media/team.93379768.png"},73:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),s=t(16),l=t.n(s),c=(t(39),t(3)),o=t(6),m=t(5),i=t(7),u=t.n(i),p=t(12),d=t(13),g=t.n(d),E=(t(60),function(e){var a=e.history,t=Object(r.useState)(""),s=Object(c.a)(t,2),l=s[0],m=s[1],i=Object(r.useState)(""),d=Object(c.a)(i,2),E=d[0],b=d[1],v=Object(r.useState)(""),f=Object(c.a)(v,2),h=f[0],w=f[1];Object(r.useEffect)(function(){localStorage.getItem("authToken")&&a.push("/login")},[a]);var N=function(){var e=Object(p.a)(u.a.mark(function e(t){var r,n,s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r={header:{"Content-Type":"application/json"}},e.prev=2,e.next=5,g.a.post("/api/auth/login",{email:l,password:E},r);case 5:n=e.sent,s=n.data,localStorage.setItem("authToken",s.token),a.push("/portal"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),w(e.t0.response.data.error),setTimeout(function(){w("")},5e3);case 15:case"end":return e.stop()}},e,null,[[2,11]])}));return function(a){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:"login-screen"},n.a.createElement("form",{onSubmit:N,className:"login-screen__form"},n.a.createElement("h3",{className:"login-screen__title"},"Login"),h&&n.a.createElement("span",{className:"error-message"},h),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"email"},"Email:"),n.a.createElement("input",{type:"email",required:!0,id:"email",placeholder:"Email address",onChange:function(e){return m(e.target.value)},value:l,tabIndex:1})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"password"},"Password:"," ",n.a.createElement(o.b,{to:"/forgotpassword",className:"login-screen__forgotpassword"},"Forgot Password?")),n.a.createElement("input",{type:"password",required:!0,id:"password",autoComplete:"true",placeholder:"Enter password",onChange:function(e){return b(e.target.value)},value:E,tabIndex:2})),n.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Login"),n.a.createElement("span",{className:"login-screen__subtext"},"Don't have an account? ",n.a.createElement(o.b,{to:"/register"},"Register"))))}),b=(t(66),function(e){var a=e.history,t=Object(r.useState)(""),s=Object(c.a)(t,2),l=s[0],m=s[1],i=Object(r.useState)(""),d=Object(c.a)(i,2),E=d[0],b=d[1],v=Object(r.useState)(""),f=Object(c.a)(v,2),h=f[0],w=f[1],N=Object(r.useState)(""),j=Object(c.a)(N,2),O=j[0],y=j[1],S=Object(r.useState)(""),x=Object(c.a)(S,2),k=x[0],C=x[1],T=function(){var e=Object(p.a)(u.a.mark(function e(t){var r,n,s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r={header:{"Content-Type":"application/json"}},h===O){e.next=7;break}return w(""),y(""),setTimeout(function(){C("")},5e3),e.abrupt("return",C("Passwords do not match"));case 7:return e.prev=7,e.next=10,g.a.post("/api/auth/register",{username:l,email:E,password:h},r);case 10:n=e.sent,s=n.data,console.log(s),a.push("/login"),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(7),C(e.t0.response.data.error),setTimeout(function(){C("")},5e3);case 20:case"end":return e.stop()}},e,null,[[7,16]])}));return function(a){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:"register-screen"},n.a.createElement("form",{onSubmit:T,className:"register-screen__form"},n.a.createElement("h3",{className:"register-screen__title"},"Sign Up"),k&&n.a.createElement("span",{className:"error-message"},k),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"name"},"Username:"),n.a.createElement("input",{type:"text",required:!0,id:"name",placeholder:"Enter Full Name",value:l,onChange:function(e){return m(e.target.value)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Email:"),n.a.createElement("input",{type:"email",required:!0,id:"email",placeholder:"Email address",value:E,onChange:function(e){return b(e.target.value)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"password"},"Password:"),n.a.createElement("input",{type:"password",required:!0,id:"password",autoComplete:"true",placeholder:"Enter password",value:h,onChange:function(e){return w(e.target.value)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"confirmpassword"},"Confirm Password:"),n.a.createElement("input",{type:"password",required:!0,id:"confirmpassword",autoComplete:"true",placeholder:"Confirm password",value:O,onChange:function(e){return y(e.target.value)}})),n.a.createElement("button",{type:"submit",className:"btn btn-primary"}," Sign Up"),n.a.createElement("span",{className:"register-screen__subtext"},"Already have an account? ",n.a.createElement(o.b,{to:"/login"},"Login"))))}),v=(t(67),function(){var e=Object(r.useState)(""),a=Object(c.a)(e,2),t=a[0],s=a[1],l=Object(r.useState)(""),o=Object(c.a)(l,2),m=o[0],i=o[1],d=Object(r.useState)(""),E=Object(c.a)(d,2),b=E[0],v=E[1],f=function(){var e=Object(p.a)(u.a.mark(function e(a){var r,n,l;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),r={header:{"Content-Type":"application/json"}},e.prev=2,e.next=5,g.a.post("/api/auth/forgotpassword",{email:t},r);case 5:n=e.sent,l=n.data,v(l.data),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),i(e.t0.response.data.error),s(""),setTimeout(function(){i("")},5e3);case 15:case"end":return e.stop()}},e,null,[[2,10]])}));return function(a){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:"forgotpassword-screen"},n.a.createElement("form",{onSubmit:f,className:"forgotpassword-screen__form"},n.a.createElement("h3",{className:"forgotpassword-screen__title"},"Forgot Password"),m&&n.a.createElement("span",{className:"error-message"},m),b&&n.a.createElement("span",{className:"success-message"},b),n.a.createElement("div",{className:"form-group"},n.a.createElement("p",{className:"forgotpassword-screen__subtext"},"Please enter the email address you register your account with. We will send you reset password confirmation to this email"),n.a.createElement("label",{htmlFor:"email"},"Email:"),n.a.createElement("input",{type:"email",required:!0,id:"email",placeholder:"Email address",value:t,onChange:function(e){return s(e.target.value)}})),n.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Send Email")))}),f=(t(68),function(e){var a=e.match,t=Object(r.useState)(""),s=Object(c.a)(t,2),l=s[0],m=s[1],i=Object(r.useState)(""),d=Object(c.a)(i,2),E=d[0],b=d[1],v=Object(r.useState)(""),f=Object(c.a)(v,2),h=f[0],w=f[1],N=Object(r.useState)(""),j=Object(c.a)(N,2),O=j[0],y=j[1],S=function(){var e=Object(p.a)(u.a.mark(function e(t){var r,n,s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r={header:{"Content-Type":"application/json"}},l===E){e.next=7;break}return m(""),b(""),setTimeout(function(){w("")},5e3),e.abrupt("return",w("Passwords don't match"));case 7:return e.prev=7,e.next=10,g.a.put("/api/auth/passwordreset/".concat(a.params.resetToken),{password:l},r);case 10:n=e.sent,s=n.data,console.log(s),y(s.data),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(7),w(e.t0.response.data.error),setTimeout(function(){w("")},5e3);case 20:case"end":return e.stop()}},e,null,[[7,16]])}));return function(a){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:"resetpassword-screen"},n.a.createElement("form",{onSubmit:S,className:"resetpassword-screen__form"},n.a.createElement("h3",{className:"resetpassword-screen__title"},"Forgot Password"),h&&n.a.createElement("span",{className:"error-message"},h," "),O&&n.a.createElement("span",{className:"success-message"},O," ",n.a.createElement(o.b,{to:"/login"},"Login")),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"password"},"New Password:"),n.a.createElement("input",{type:"password",required:!0,id:"password",placeholder:"Enter new password",autoComplete:"true",value:l,onChange:function(e){return m(e.target.value)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"confirmpassword"},"Confirm New Password:"),n.a.createElement("input",{type:"password",required:!0,id:"confirmpassword",placeholder:"Confirm new password",autoComplete:"true",value:E,onChange:function(e){return b(e.target.value)}})),n.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Reset Password")))}),h=n.a.createContext({username:"",email:"",_id:"",teams:""}),w=t(76),N=(t(69),function(){var e=Object(r.useContext)(h),a=e.username,t=e.email;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"profile-userpic"},n.a.createElement("img",{className:"img-fluid",src:"https://racemph.com/wp-content/uploads/2016/09/profile-image-placeholder.png",alt:a})),n.a.createElement("div",{className:"text-left mt-3"},n.a.createElement("p",null," Name: ",a),n.a.createElement("p",null," Email: ",t)),n.a.createElement(j,null))}),j=function(){var e=Object(r.useContext)(h)._id,a=Object(r.useState)(""),t=Object(c.a)(a,2),s=t[0],l=t[1],o=Object(r.useState)(""),m=Object(c.a)(o,2),i=m[0],d=m[1],E=Object(r.useState)(""),b=Object(c.a)(E,2),v=b[0],f=b[1],N=Object(r.useState)(!1),j=Object(c.a)(N,2),O=j[0],y=j[1],S=function(){return y(!1)},x=Object(r.useState)(""),k=Object(c.a)(x,2),C=k[0],T=k[1],_=function(){var a=Object(p.a)(u.a.mark(function a(){var t;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t={header:{"Content-Type":"application/json"}},a.prev=1,a.next=4,g.a.put("/api/auth/update/".concat(e),{username:s,email:i,password:v},t);case 4:window.location.reload(),a.next=13;break;case 7:a.prev=7,a.t0=a.catch(1),console.log(a.t0),T("Email Already Exists in Database"),a.t0||S(),setTimeout(function(){T("")},2e3);case 13:case"end":return a.stop()}},a,null,[[1,7]])}));return function(){return a.apply(this,arguments)}}();return n.a.createElement("div",null,n.a.createElement("button",{className:"btn btn-primary",onClick:function(){return y(!0)}},"Update User Information"),n.a.createElement("div",{className:"d-flex align-items-center justify-content-center",style:{height:"100vh"}}),n.a.createElement(w.a,{show:O,onHide:S},n.a.createElement(w.a.Header,{closeButton:!0},n.a.createElement(w.a.Title,null,"Update User Information")),n.a.createElement(w.a.Body,null,C&&n.a.createElement("div",{className:"alert alert-danger"},C),n.a.createElement("form",{onSubmit:_},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"name"},"Username:"),n.a.createElement("input",{type:"text",required:!0,id:"name",placeholder:"Enter Full Name",value:s,onChange:function(e){return l(e.target.value)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Email:"),n.a.createElement("input",{type:"email",required:!0,id:"email",placeholder:"Email address",value:i,onChange:function(e){return d(e.target.value)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"password"},"Password:"),n.a.createElement("input",{type:"password",required:!0,id:"password",autoComplete:"true",placeholder:"Enter password",value:v,onChange:function(e){return f(e.target.value)}})),n.a.createElement("button",{type:"submit",className:"btn btn-primary"}," ","Save Changes")))))},O=(t(71),function(e){var a=e.getUsername,t=Object(m.f)(),s=Object(r.useState)(""),l=Object(c.a)(s,2),o=l[0],i=l[1],d=Object(r.useState)({username:"",_id:"",email:"",teams:"",userCreated:""}),E=Object(c.a)(d,2),b=E[0],v=E[1];return Object(r.useEffect)(function(){localStorage.getItem("authToken")||(i("You are not authorized please login! redirecting to login"),setTimeout(function(){t.push("/login")},2e3)),function(){var e=Object(p.a)(u.a.mark(function e(){var r,n,s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("authToken"))}},e.prev=1,e.next=4,g.a.get("/api/private",r);case 4:n=e.sent,s=n.data,v(s),a(s.username),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),localStorage.removeItem("authToken"),i("You are not authorized please login! Redirecting to login"),setTimeout(function(){t.push("/login")},2e3);case 15:case"end":return e.stop()}},e,null,[[1,10]])}));return function(){return e.apply(this,arguments)}}()()},[t]),o?n.a.createElement("div",{className:"alert alert-danger",role:"alert"},o):n.a.createElement(h.Provider,{value:b},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row text-center"},n.a.createElement("div",{className:"col-sm-3"},n.a.createElement(N,null)),n.a.createElement("div",{className:"col-sm-9"},n.a.createElement("h1",null," Hello from My Teams !!!")))))}),y=(t(31),t(72)),S=function(){return n.a.createElement("div",{className:"bg_image",style:{backgroundImage:"url("+y+")",backgroundSize:"cover",height:"100vh"}},n.a.createElement("div",{id:"titlebox"},n.a.createElement("h1",{id:"title"},"My")),n.a.createElement("div",{className:"home"},n.a.createElement(o.b,{to:"/register",className:"mr-4"},"Sign Up"),n.a.createElement("br",null),n.a.createElement(o.b,{to:"/login"}," Login")))};var x=function(e){var a=e.username,t=Object(m.g)();return n.a.createElement("div",{className:"navbar navbar-expand-lg navbar-light bg-light"},n.a.createElement(o.b,{className:"navbar-brand",to:"/portal"},"My Team"),n.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},n.a.createElement("span",{className:"navbar-toggler-icon"})),n.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},localStorage.getItem("authToken")&&n.a.createElement("ul",{className:"navbar-nav ml-auto"},n.a.createElement("li",{className:"nav-item"},n.a.createElement(o.b,{to:"#",className:"nav-link"},"Hi ",a,"!")),n.a.createElement("li",{className:"nav-item "},n.a.createElement(o.b,{className:"/portal"===t.pathname?"nav-link active":"nav-link",to:"/portal"},"Teams ",n.a.createElement("span",{className:"sr-only"}))),n.a.createElement("li",{className:"nav-item"},n.a.createElement(o.b,{className:"nav-link",to:"/login",onClick:function(){localStorage.removeItem("authToken")}},"Logout"))),!localStorage.getItem("authToken")&&n.a.createElement("ul",{className:"navbar-nav ml-auto"},n.a.createElement("li",{className:"nav-item "},n.a.createElement(o.b,{className:"/login"===t.pathname?"nav-link active":"nav-link",to:"/login"},"Login ",n.a.createElement("span",{className:"sr-only"}))),n.a.createElement("li",{className:"nav-item"},n.a.createElement(o.b,{className:"/register"===t.pathname?"nav-link active":"nav-link",to:"/register"},"Register")))))},k=function(){var e=Object(r.useState)(""),a=Object(c.a)(e,2),t=a[0],s=a[1];return n.a.createElement("div",{className:"app"},n.a.createElement(o.a,null,n.a.createElement(m.c,null,n.a.createElement(m.a,{exact:!0,path:"/"},n.a.createElement(S,null)),n.a.createElement(n.a.Fragment,null,n.a.createElement(x,{username:t}),n.a.createElement(m.a,{path:"/portal"},n.a.createElement(O,{getUsername:function(e){s(e)}})),n.a.createElement(m.a,{path:"/login",component:E}),n.a.createElement(m.a,{path:"/register",component:b}),n.a.createElement(m.a,{path:"/forgotpassword",component:v}),n.a.createElement(m.a,{exact:!0,path:"/passwordreset/:resetToken",component:f})))))};l.a.render(n.a.createElement(k,null),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.24ff1c2e.chunk.js.map